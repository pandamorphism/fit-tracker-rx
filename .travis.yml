language: node_js
node_js:
  - '9'
dist: trusty
sudo: false
branches:
  only:
    - master
    - "/^greenkeeper/.*$/"
cache:
  directories:
    - node_modules
before_install:
  - export CHROME_BIN=/usr/bin/google-chrome
  - export DISPLAY=:99.0
  - sh -e /etc/init.d/xvfb start
  - sudo apt-get update
  - sudo apt-get install -y libappindicator1 fonts-liberation
  - wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
  - sudo dpkg -i google-chrome*.deb
install:
  - npm install
script:
  - npm run lint
  - npm run build:prod
deploy:
  provider: firebase
  token:
    secure: "ZMsYwCuFxYI/Bptu/YXtwv7ZWPplcquT8IvMaJSNH/1jsGY0wL6jQNCk7c5Hpcc3g9XAKuqQgBzFRCv8WKRb+gI74sa+xCYEdCFTWO2ePXn91U75kJU
    o0NwqKd3q8mCD+4e8WQqlLZ0u1wN79SkoKPOANAOpCZ2blhTt7FSQ7uEP7zbRu1guAOufSmKxrk4idKFDQ4Q3jvpxMSHlU/oD5zLZ82Q1fEUuCIpR+AfZAN5IZzUsA
    UkCznNI3+ehRCRyGU9YmQMss6sGx9YvZmMoePAycA3IxWB/iwk02mczjWdVDDia00ANFAE6C6caMc/idb2K4xOwzAfk7i5a8MCaj0Gkgc7RoOYdOlRwC/M+xqV+Lxn
    +APRLThK0KzdpUAy4tL5U7CRG0VGvuifMLv/3F5m9OXN9/KBaLK6xVTo3hCmknYVX/VnbwB6wMAxFjowNP2USMzVIz4Dt8kKvzIM7NynZG1f+GztfA0toAlEsbDWSW
    /xg5JuklfwBhOHE7zQmdXEVciJ7/+6e2DbIwdHPWbuo1Pvu1L5nyM67HJyHa22wKuU72+uubShkXtInGIBWo8qnYgK5IGQ0bAvQlZokNfMtYNTLrrAp0BFH99rxjtb
    63CGwOyECapN+ThQ8HiAtu2doG9LNbx0cViOvkiBfZ5XGLeflHVop6WTlfXFGt3s="
    message: 'Fit-tracker deployed'

